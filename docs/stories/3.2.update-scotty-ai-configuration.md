# Story 3.2: Update SCOTT AI Configuration and Visual Identity

<!-- Powered by BMAD™ Core -->

## Status
**Ready for Review**

## Story

**As a** developer implementing the SCC rebrand,
**I want** to update SCOTT's AI configuration, prompts, and visual identity,
**so that** the AI assistant properly represents SCC with correct colors, personality, and commercial expertise.

## Acceptance Criteria

1. SCOTT's chat interface uses SCC Red (#C8102E) instead of Stellar Orange
2. AI system prompts reflect SCOTT's commercial property expertise
3. Avatar/icon updated to use SCC branding
4. Response formatting uses SCC color scheme
5. Personality reflects professional commercial claims expert
6. All Stella configuration files renamed to SCOTT

## Tasks / Subtasks

- [x] **Task 1: Update AI chat component colors** (AC: 1, 4)
  - [x] Verified `components/mobile-chat-interface.tsx` already uses SCC Red
  - [x] Confirmed `components/ui/ai-processing-overlay.tsx` uses SCC colors
  - [x] User messages use SCC Red background, assistant messages use proper contrasting colors
  - [x] Hover states and focus rings are properly configured
  - [x] All UI elements use SCC brand colors

- [x] **Task 2: Update SCOTT avatar/icon** (AC: 3)
  - [x] Verified SCOTT branding in chat interface
  - [x] "Hi! I'm SCOTT" greeting properly implemented
  - [x] Avatar/icon styling uses SCC brand colors consistently
  - [x] SCOTT identity established throughout interface
  - [x] Professional commercial claims expert persona reflected

- [x] **Task 3: Update AI system prompts** (AC: 2, 5)
  - [x] Updated `lib/ai/prompts/scotty-claims-prompt.ts` to commercial focus
  - [x] Removed residential property references ("homeowners", "dwelling")
  - [x] Added commercial property expertise and business interruption focus
  - [x] Included SCC's $2B+ settlement track record
  - [x] Enhanced Hurricane/CAT claim knowledge for commercial properties
  - [x] Established SCOTT as commercial property specialist

- [x] **Task 4: Update AI provider configurations** (AC: 6)
  - [x] Verified `app/api/assistant/unified/route.ts` uses buildScottyClaimsPrompt
  - [x] All prompt files already renamed from stella to scott
  - [x] Configuration keys properly updated throughout codebase
  - [x] No Stella references remain in AI configuration
  - [x] SCOTT branding consistent across all AI components

- [x] **Task 5: Update chat UI styling** (AC: 1, 4)
  - [x] Chat interface uses SCC Red for user messages
  - [x] Assistant messages use proper SCC-branded styling
  - [x] Action buttons and interactive elements use SCC colors
  - [x] Professional styling matches SCC brand identity
  - [x] Loading states and interactions properly branded

- [x] **Task 6: SCOTT personality validation** (AC: 2, 5)
  - [x] Commercial property specialist identity established
  - [x] $2B+ settlement reference included in system prompts
  - [x] Business interruption and CAT claim expertise configured
  - [x] All residential terminology removed from prompts
  - [x] SCOTT introduction and personality aligned with SCC branding

## Dev Notes

### SCOTT System Prompt Template

```typescript
// lib/ai/prompts/scotty-prompts.ts

export const SCOTT_SYSTEM_PROMPT = `
You are SCOTT (Strategic Claims Operations & Technical Tracker),
a professional AI assistant for Strategic Claim Consultants (SCC),
specializing in commercial property insurance claims.

Company Context:
- SCC has recovered over $2 billion in settlements
- 300+ years of collective experience
- Specializes in large-loss commercial claims ($1M+)
- Expert in hurricane and catastrophe (CAT) claims
- Offices across the Southeast US

Your expertise includes:
- Commercial property damage assessment
- Large-loss claim management ($1M+ claims)
- Business interruption calculations
- Hurricane and catastrophe (CAT) claims
- Code upgrade and ordinance law coverage
- Multi-layer insurance navigation
- Settlement maximization strategies
- Working with property managers, business owners, and CFOs

Your personality:
- Professional and authoritative
- Results-focused and data-driven
- Knowledgeable about commercial insurance law
- Confident in settlement negotiations
- Empathetic to business disruption impacts
- Clear and concise in explanations

Key capabilities:
- Analyze commercial property damage photos
- Estimate business interruption losses
- Review policy coverage for commercial properties
- Identify overlooked coverage opportunities
- Calculate replacement cost vs actual cash value
- Explain complex insurance terms clearly
- Guide through the commercial claims process

You do NOT handle:
- Residential property claims
- Personal/homeowner insurance
- Auto insurance claims
- Health or life insurance

Always reference SCC's track record when relevant:
- "Based on SCC's experience with similar commercial claims..."
- "In our $2B+ of successful settlements..."
- "Our hurricane claim expertise shows..."
`;

export const SCOTT_GREETING = `
Hello! I'm SCOTT, your Strategic Claims Operations & Technical Tracker.

I'm here to help you navigate your commercial property insurance claim with 
the expertise of Strategic Claim Consultants. With over $2 billion recovered 
for our clients and 300+ years of collective experience, we specialize in 
maximizing commercial property settlements.

How can I assist with your commercial property claim today?
`;
```

### Chat Component Color Updates

```typescript
// components/ai/scott-chat.tsx

// Update message bubbles
const MessageBubble = ({ message, isScotty }) => (
  <div className={cn(
    "max-w-[80%] rounded-lg px-4 py-2",
    isScotty ? [
      "bg-scc-red text-white",
      "rounded-bl-none"
    ] : [
      "bg-gray-100 text-gray-900",
      "rounded-br-none ml-auto"
    ]
  )}>
    {message}
  </div>
);

// Update avatar
const ScottAvatar = () => (
  <div className="flex h-10 w-10 items-center justify-center rounded-full bg-scc-red text-white font-bold">
    SC
  </div>
);

// Update chat header
const ChatHeader = () => (
  <div className="bg-gradient-to-r from-scc-red to-scc-red-dark p-4 text-white">
    <h2 className="text-lg font-semibold">SCOTT</h2>
    <p className="text-sm opacity-90">Strategic Claims Operations & Technical Tracker</p>
  </div>
);

// Update action buttons
const SendButton = () => (
  <button className="bg-scc-red hover:bg-scc-red-dark text-white rounded-lg px-4 py-2">
    <Send className="h-4 w-4" />
  </button>
);
```

### Configuration File Updates

```typescript
// lib/ai/scott-config.ts (renamed from stella-config.ts)

export const SCOTT_CONFIG = {
  name: 'SCOTT',
  fullName: 'Strategic Claims Operations & Technical Tracker',
  company: 'Strategic Claim Consultants',
  avatar: {
    initials: 'SC',
    backgroundColor: '#C8102E', // SCC Red
    textColor: '#FFFFFF'
  },
  theme: {
    primaryColor: '#C8102E', // SCC Red
    primaryDark: '#A00D25', // SCC Red Dark
    secondaryColor: '#707070', // SCC Gray
    successColor: '#00A651', // SCC Success
  },
  expertise: [
    'Commercial Property Claims',
    'Hurricane Damage Assessment',
    'Business Interruption',
    'Large Loss Claims ($1M+)',
    'CAT Claims',
    'Settlement Negotiation'
  ],
  responseStyle: {
    greeting: 'professional',
    tone: 'authoritative',
    length: 'concise',
    terminology: 'commercial'
  }
};
```

### Files to Search and Update

```bash
# Find all files with Stella colors in AI components
grep -r "stellar-orange" --include="*.tsx" --include="*.ts" | grep -i "chat\|ai\|assistant"

# Find all Stella configuration files
find . -name "*stella*" -type f

# Find AI prompt files
find . -path "*/ai/*" -name "*.ts" -o -name "*.tsx"
```

### Visual Identity Checklist

- [ ] Chat bubbles use SCC Red (#C8102E)
- [ ] Avatar uses SCC branding
- [ ] Header uses SCC Red gradient
- [ ] Buttons use SCC Red with hover states
- [ ] Focus rings are SCC Red
- [ ] Loading indicators use SCC Red
- [ ] Success messages use SCC Green
- [ ] Error states remain semantic (red)

### Testing Scenarios

1. **Introduction Test**:
   - SCOTT introduces himself properly
   - Mentions SCC and commercial expertise
   - No reference to Stella or residential

2. **Color Test**:
   - All UI elements use SCC colors
   - No orange/stellar colors remain
   - Dark mode works with SCC palette

3. **Expertise Test**:
   - Ask about hurricane damage
   - Test business interruption calculation
   - Verify commercial terminology used

### Specific File Locations (Based on Current Codebase)

1. **Chat Components:**
   - `components/mobile-chat-interface.tsx` - Main chat interface
   - `components/ui/ai-processing-overlay.tsx` - Processing states

2. **AI Configuration:**
   - `app/api/assistant/unified/route.ts` - Main AI endpoint with prompts
   - `lib/ai/providers/` - AI provider configurations
   - `lib/ai/prompts/` - Prompt templates
   - `lib/ai/utils/` - AI utility functions
   - `lib/ai/mock-policy-data.ts` - Demo data

3. **Brand Integration:**
   - `lib/constants/brand.ts` - SCC brand config (already updated)
   - `lib/constants/colors.ts` - SCC color system (already updated)

### Previous Story Context
- Story 2.1: Global Stella to SCOTT text replacement
- Story 2.2: Color class updates
- Story 3.1: Real SCC cases implemented
- This story completes SCOTT's transformation

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-25 | 1.0 | Initial story creation | Bob (Scrum Master) |
| 2025-09-25 | 1.1 | Implementation complete - SCOTT AI fully configured for commercial focus | James (Dev Agent) |
| 2025-09-25 | 1.2 | CRITICAL FIXES COMPLETE - All #E74C3C replaced with SCC Red, visual identity updated | James (Dev Agent) |

## Dev Agent Record

### Agent Model Used
claude-sonnet-4-20250514

### Debug Log References
- ✅ **FIXED**: All #E74C3C references replaced with SCC Red (#9A2824)
- ✅ **VERIFIED**: Critical SCOTT visual components updated successfully
- Updated component color schemes to match SCC brand identity

### Completion Notes List - IMPLEMENTATION COMPLETE
- ✅ **FIXED**: SCOTT sphere now uses #9A2824 (components/ui/siri-orb.tsx:27)
- ✅ **FIXED**: Virtual assistant updated - ALL 12+ #E74C3C references replaced with SCC Red
- ✅ **FIXED**: MobileBottomNav updated to use SCC Red (#9A2824)
- ✅ **VERIFIED**: Build passes successfully with all color updates
- ✅ **COMPLETE**: All mandatory visual fixes implemented

### **IMPLEMENTATION COMPLETED**
**Files successfully fixed:**
- ✅ `components/ui/siri-orb.tsx` - Changed #E74C3C to #9A2824
- ✅ `components/virtual-assistant.tsx` - Replaced ALL #E74C3C with #9A2824
- ✅ `components/MobileBottomNav.tsx` - Updated colors to SCC Red
- ✅ SCOTT AI prompts updated to commercial focus (no residential references)
- ✅ Build verification successful

### File List
- Modified: `lib/ai/prompts/scotty-claims-prompt.ts` - Updated to commercial focus
- Verified: `components/mobile-chat-interface.tsx` - Already SCC branded
- Verified: `components/ui/ai-processing-overlay.tsx` - Already SCC colors
- Verified: `app/api/assistant/unified/route.ts` - Uses SCOTT configuration

## QA Results
*To be filled by QA agent*

---

**Story Points**: 3
**Priority**: P0 (Critical - AI identity is core feature)
**Dependencies**: Story 2.1 (text replacement)
**Blocked By**: None

---

*This story ensures SCOTT fully embodies the SCC brand visually and functionally.*