# Story 1.4: Add Montserrat Font

<!-- Powered by BMADâ„¢ Core -->

## Status
**Done**

## Story

**As a** developer implementing the SCC rebrand,
**I want** to add the Montserrat font to the application using Next.js font optimization,
**so that** the application uses SCC's brand typography with optimal loading performance and no layout shift.

## Acceptance Criteria

1. Montserrat font is imported using Next.js `next/font/google`
2. Font is configured with appropriate weights (400, 500, 600, 700)
3. Font is applied to the application root with CSS variable
4. No Flash of Unstyled Text (FOUT) or layout shift occurs
5. Font loads with proper subset optimization (latin)
6. Fallback fonts are properly configured

## Tasks / Subtasks

- [x] **Task 1: Import Montserrat using next/font** (AC: 1, 5)
  - [x] Open `app/layout.tsx` file
  - [x] Import `Montserrat` from `next/font/google`
  - [x] Configure font with required weights
  - [x] Set latin subset for optimization
  - [x] Add display swap for performance

- [x] **Task 2: Create font instance with configuration** (AC: 2, 3)
  - [x] Define montserrat constant with configuration
  - [x] Include weights: 400 (regular), 500 (medium), 600 (semibold), 700 (bold)
  - [x] Set CSS variable name as `--font-montserrat`
  - [x] Configure fallback fonts

- [x] **Task 3: Apply font to application** (AC: 3, 4)
  - [x] Add font class to body or html element in layout
  - [x] Update the body className to include montserrat.variable
  - [x] Ensure font CSS variable is available globally
  - [x] Test that font applies correctly

- [x] **Task 4: Update Tailwind configuration** (AC: 6)
  - [x] Verify Tailwind config uses the font variable
  - [x] Ensure `fontFamily.sans` includes Montserrat
  - [x] Check that font variable is referenced correctly

- [x] **Task 5: Remove any conflicting font imports** (AC: 4)
  - [x] Check for Google Fonts link tags in layout
  - [x] Remove any CDN font imports
  - [x] Ensure no duplicate font loading
  - [x] Clean up any unused font imports

- [x] **Task 6: Test font loading and performance** (AC: 4, 5)
  - [x] Verify font loads without layout shift
  - [x] Check Network tab for optimized font loading
  - [x] Test different font weights render correctly
  - [x] Ensure fallback fonts work if needed

## Dev Notes

### Implementation in app/layout.tsx

**Next.js Font Import Pattern:**
```typescript
import { Montserrat } from 'next/font/google'

// Configure Montserrat with required weights
const montserrat = Montserrat({
  weight: ['400', '500', '600', '700'],
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-montserrat',
})
```

**Apply to Layout:**
```typescript
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en" className={montserrat.variable}>
      <body className={cn(
        "min-h-screen bg-background font-sans antialiased",
        montserrat.className
      )}>
        {children}
      </body>
    </html>
  )
}
```

### Alternative Implementation (CSS Variable Only):

If the project uses CSS variables for fonts:
```typescript
// Using variable only (recommended for Tailwind)
<html lang="en" className={montserrat.variable}>
  <body className="font-sans">
    {children}
  </body>
</html>
```

Then in Tailwind config (already done in Story 1.2):
```javascript
fontFamily: {
  sans: ['var(--font-montserrat)', ...defaultTheme.fontFamily.sans],
}
```

### Current Layout Structure Check:

The layout.tsx file likely has:
- Metadata configuration
- Possibly Inter or other font already imported
- HTML and body elements with existing classes
- Theme providers or other wrappers

### Important Implementation Notes:

1. **Next.js Font Benefits**:
   - Automatic font optimization
   - Prevents layout shift
   - Subset optimization
   - Self-hosting option
   - Automatic fallback generation

2. **Weight Selection**:
   - 400: Normal text
   - 500: Medium emphasis
   - 600: Semibold headings
   - 700: Bold emphasis

3. **Performance Considerations**:
   - `display: 'swap'` ensures text is visible during font load
   - Latin subset reduces file size for English content
   - Variable font could be used if available

4. **Class Application**:
   - Can use `.className` for direct application
   - Can use `.variable` for CSS variable approach
   - Tailwind approach uses CSS variable method

### Testing Checklist:

- [ ] Font loads on first paint
- [ ] No layout shift when font loads
- [ ] All weights render correctly
- [ ] Font works in both light and dark mode
- [ ] No console errors about font loading
- [ ] Network shows optimized font files

### Common Issues and Solutions:

1. **If layout shift occurs**: Check display strategy
2. **If font doesn't apply**: Verify className application
3. **If weights missing**: Add to weight array
4. **If performance slow**: Check subset configuration

### File Locations:

- Main implementation: `app/layout.tsx`
- Tailwind config check: `tailwind.config.ts` (from Story 1.2)
- Global CSS check: `app/globals.css` (from Story 1.3)

### Previous Story Context:
- Story 1.2: Tailwind already configured to use Montserrat in font stack
- Story 1.3: CSS utilities prepared for new typography
- This story completes the font implementation chain

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-09-25 | 1.0 | Initial story creation | Bob (Scrum Master) |
| 2025-09-25 | 1.1 | PO Review Passed - Moved to Done | Sarah (Product Owner) |

## Dev Agent Record

### Agent Model Used
claude-opus-4-1-20250805

### Debug Log References
N/A - No errors encountered during implementation

### Completion Notes List
- Imported Montserrat font from next/font/google
- Configured with weights 400, 500, 600, 700
- Set up with latin subset and display swap for optimization
- Applied font using both variable (for CSS) and className (direct application)
- Removed Inter font import that was previously used
- Font CSS variable --font-montserrat is now available
- Tailwind config already had Montserrat configured in Story 1.2
- All acceptance criteria met

### File List
- Modified: `app/layout.tsx` (replaced Inter with Montserrat)

## QA Results
*To be filled by QA agent*

---

**Story Points**: 1
**Priority**: P0 (Critical - Brand typography requirement)
**Dependencies**: Stories 1.1, 1.2, 1.3
**Blocked By**: None (can start after previous stories)

---

*Next Story Preview: Story 1.5 will focus on replacing logo files and favicon with SCC branding assets.*